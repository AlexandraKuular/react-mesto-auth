{"ast":null,"code":"import _classCallCheck from\"/Users/sasha/Desktop/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/sasha/Desktop/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Auth=/*#__PURE__*/function(){function Auth(options){_classCallCheck(this,Auth);this._baseUrl=options.baseUrl;this._headers=options.headers;}_createClass(Auth,[{key:\"_checkRes\",value:function _checkRes(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \".concat(res.status));}},{key:\"register\",value:function register(_ref){var email=_ref.email,password=_ref.password;return fetch(\"\".concat(this._baseUrl,\"/signup\"),{method:\"POST\",headers:this._headers,body:JSON.stringify({email:email,password:password})}).then(this._checkRes);}},{key:\"login\",value:function login(_ref2){var email=_ref2.email,password=_ref2.password;return fetch(\"\".concat(this._baseUrl,\"/signin\"),{method:\"POST\",headers:this._headers,body:JSON.stringify({email:email,password:password})}).then(this._checkRes);}},{key:\"getMe\",value:function getMe(token){return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{method:\"GET\",headers:{'Content-Type':\"application/json\",Authorization:\"Bearer \".concat(token)}}).then(this._checkRes);}}]);return Auth;}();var auth=new Auth({baseUrl:'https://auth.nomoreparties.co',headers:{'Content-Type':'application/json'}});export default auth;","map":{"version":3,"names":["Auth","options","_classCallCheck","_baseUrl","baseUrl","_headers","headers","_createClass","key","value","_checkRes","res","ok","json","Promise","reject","concat","status","register","_ref","email","password","fetch","method","body","JSON","stringify","then","login","_ref2","getMe","token","Authorization","auth"],"sources":["/Users/sasha/Desktop/dev/react-mesto-auth/src/utils/Auth.js"],"sourcesContent":["class Auth {  \n  constructor(options) {\n    this._baseUrl = options.baseUrl\n    this._headers = options.headers\n  }\n  \n  _checkRes(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка ${res.status}`);\n  }\n\n  register({ email, password }) {\n    return fetch(`${this._baseUrl}/signup`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({ email, password }),\n    })\n    .then(this._checkRes);\n  }\n\n  login({ email, password }) {\n    return fetch(`${this._baseUrl}/signin`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({ email, password }),\n    })\n    .then(this._checkRes);\n  }\n\n  getMe(token) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"GET\",\n      headers: {\n        'Content-Type': \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    })\n    .then(this._checkRes);\n  }\n}\n\nconst auth = new Auth({\n  baseUrl: 'https://auth.nomoreparties.co',\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\nexport default auth;"],"mappings":"+PAAM,CAAAA,IAAI,yBACR,SAAAA,KAAYC,OAAO,CAAE,CAAAC,eAAA,MAAAF,IAAA,EACnB,IAAI,CAACG,QAAQ,CAAGF,OAAO,CAACG,OAAO,CAC/B,IAAI,CAACC,QAAQ,CAAGJ,OAAO,CAACK,OAAO,CACjC,CAACC,YAAA,CAAAP,IAAA,GAAAQ,GAAA,aAAAC,KAAA,CAED,SAAAC,UAAUC,GAAG,CAAE,CACb,GAAIA,GAAG,CAACC,EAAE,CAAE,CACV,MAAO,CAAAD,GAAG,CAACE,IAAI,CAAC,CAAC,CACnB,CACA,MAAO,CAAAC,OAAO,CAACC,MAAM,yCAAAC,MAAA,CAAWL,GAAG,CAACM,MAAM,CAAE,CAAC,CAC/C,CAAC,GAAAT,GAAA,YAAAC,KAAA,CAED,SAAAS,SAAAC,IAAA,CAA8B,IAAnB,CAAAC,KAAK,CAAAD,IAAA,CAALC,KAAK,CAAEC,QAAQ,CAAAF,IAAA,CAARE,QAAQ,CACxB,MAAO,CAAAC,KAAK,IAAAN,MAAA,CAAI,IAAI,CAACb,QAAQ,YAAW,CACtCoB,MAAM,CAAE,MAAM,CACdjB,OAAO,CAAE,IAAI,CAACD,QAAQ,CACtBmB,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEN,KAAK,CAALA,KAAK,CAAEC,QAAQ,CAARA,QAAS,CAAC,CAC1C,CAAC,CAAC,CACDM,IAAI,CAAC,IAAI,CAACjB,SAAS,CAAC,CACvB,CAAC,GAAAF,GAAA,SAAAC,KAAA,CAED,SAAAmB,MAAAC,KAAA,CAA2B,IAAnB,CAAAT,KAAK,CAAAS,KAAA,CAALT,KAAK,CAAEC,QAAQ,CAAAQ,KAAA,CAARR,QAAQ,CACrB,MAAO,CAAAC,KAAK,IAAAN,MAAA,CAAI,IAAI,CAACb,QAAQ,YAAW,CACtCoB,MAAM,CAAE,MAAM,CACdjB,OAAO,CAAE,IAAI,CAACD,QAAQ,CACtBmB,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEN,KAAK,CAALA,KAAK,CAAEC,QAAQ,CAARA,QAAS,CAAC,CAC1C,CAAC,CAAC,CACDM,IAAI,CAAC,IAAI,CAACjB,SAAS,CAAC,CACvB,CAAC,GAAAF,GAAA,SAAAC,KAAA,CAED,SAAAqB,MAAMC,KAAK,CAAE,CACX,MAAO,CAAAT,KAAK,IAAAN,MAAA,CAAI,IAAI,CAACb,QAAQ,cAAa,CACxCoB,MAAM,CAAE,KAAK,CACbjB,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClC0B,aAAa,WAAAhB,MAAA,CAAYe,KAAK,CAChC,CACF,CAAC,CAAC,CACDJ,IAAI,CAAC,IAAI,CAACjB,SAAS,CAAC,CACvB,CAAC,WAAAV,IAAA,KAGH,GAAM,CAAAiC,IAAI,CAAG,GAAI,CAAAjC,IAAI,CAAC,CACpBI,OAAO,CAAE,+BAA+B,CACxCE,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CAEF,cAAe,CAAA2B,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}