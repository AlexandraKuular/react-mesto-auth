{"ast":null,"code":"import btnDeleteCard from'../images/Trash.svg';import btnLikeCard from'../images/Vector.svg';import{useContext}from'react';import{CurrentUserContext}from'../contexts/CurrentUserContext.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Card(_ref){var card=_ref.card,onCardClick=_ref.onCardClick,onCardLike=_ref.onCardLike,onCardDelete=_ref.onCardDelete;var currentUser=useContext(CurrentUserContext);// Определяем, являемся ли мы владельцем текущей карточки\nvar isOwn=card.owner._id===currentUser._id;// Определяем, есть ли у карточки лайк, поставленный текущим пользователем\nvar isLiked=card.likes.some(function(i){return i._id===currentUser._id;});var cardLikeButtonClassName=\"card__like \".concat(isLiked&&'card__like_active');var handleCard=function handleCard(){onCardClick(card);};var handleLikeClick=function handleLikeClick(){onCardLike(card);};var handleDeleteClick=function handleDeleteClick(){onCardDelete(card);};return/*#__PURE__*/_jsxs(\"article\",{className:\"card\",children:[isOwn&&/*#__PURE__*/_jsx(\"button\",{className:\"card__delete\",type:\"button\",onClick:handleDeleteClick,children:/*#__PURE__*/_jsx(\"img\",{className:\"card__trash\",src:btnDeleteCard,alt:\"\\u041A\\u043D\\u043E\\u043F\\u043A\\u0430 \\u0443\\u0434\\u0430\\u043B\\u0435\\u043D\\u0438\\u044F\"})}),/*#__PURE__*/_jsx(\"img\",{className:\"card__image\",src:card.link,alt:card.name,onClick:handleCard}),/*#__PURE__*/_jsxs(\"div\",{className:\"card__title\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"card__name\",children:card.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"card__like-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:cardLikeButtonClassName,type:\"button\",onClick:handleLikeClick,children:/*#__PURE__*/_jsx(\"img\",{src:btnLikeCard,alt:\"\\u041A\\u043D\\u043E\\u043F\\u043A\\u0430 \\u043B\\u0430\\u0439\\u043A\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"card__like-number\",children:card.likes.length})]})]})]});}export default Card;","map":{"version":3,"names":["btnDeleteCard","btnLikeCard","useContext","CurrentUserContext","jsx","_jsx","jsxs","_jsxs","Card","_ref","card","onCardClick","onCardLike","onCardDelete","currentUser","isOwn","owner","_id","isLiked","likes","some","i","cardLikeButtonClassName","concat","handleCard","handleLikeClick","handleDeleteClick","className","children","type","onClick","src","alt","link","name","length"],"sources":["/Users/sasha/Desktop/dev/react-mesto-auth/src/components/Card.js"],"sourcesContent":["import btnDeleteCard from '../images/Trash.svg';\nimport btnLikeCard from '../images/Vector.svg';\nimport { useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\n\n  const currentUser = useContext(CurrentUserContext);\n  // Определяем, являемся ли мы владельцем текущей карточки\n  const isOwn = card.owner._id === currentUser._id;\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\n  const cardLikeButtonClassName = ( \n    `card__like ${isLiked && 'card__like_active'}` \n  );\n\n  const handleCard = () => {\n    onCardClick(card);\n  }\n\n  const handleLikeClick = () => {\n    onCardLike(card);\n  }\n\n  const handleDeleteClick = () => {\n    onCardDelete(card)\n  }\n\n  return (\n      <article className=\"card\">\n        {isOwn && <button className=\"card__delete\" type=\"button\" onClick={handleDeleteClick} >\n          <img className=\"card__trash\" src={btnDeleteCard} alt=\"Кнопка удаления\" />\n        </button>}\n        <img\n          className=\"card__image\"\n          src={card.link}\n          alt={card.name}\n          onClick={handleCard}\n        />\n        <div className=\"card__title\">\n          <h2 className=\"card__name\">{card.name}</h2>\n          <div className=\"card__like-container\">\n            <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick} >\n              <img src={btnLikeCard} alt=\"Кнопка лайк\" />\n            </button>\n            <p className=\"card__like-number\">{card.likes.length}</p>\n          </div>\n        </div>\n      </article>\n  )\n}\n\nexport default Card;"],"mappings":"AAAA,MAAO,CAAAA,aAAa,KAAM,qBAAqB,CAC/C,MAAO,CAAAC,WAAW,KAAM,sBAAsB,CAC9C,OAASC,UAAU,KAAQ,OAAO,CAClC,OAASC,kBAAkB,KAAQ,mCAAmC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEvE,QAAS,CAAAC,IAAIA,CAAAC,IAAA,CAAkD,IAA/C,CAAAC,IAAI,CAAAD,IAAA,CAAJC,IAAI,CAAEC,WAAW,CAAAF,IAAA,CAAXE,WAAW,CAAEC,UAAU,CAAAH,IAAA,CAAVG,UAAU,CAAEC,YAAY,CAAAJ,IAAA,CAAZI,YAAY,CAEzD,GAAM,CAAAC,WAAW,CAAGZ,UAAU,CAACC,kBAAkB,CAAC,CAClD;AACA,GAAM,CAAAY,KAAK,CAAGL,IAAI,CAACM,KAAK,CAACC,GAAG,GAAKH,WAAW,CAACG,GAAG,CAChD;AACA,GAAM,CAAAC,OAAO,CAAGR,IAAI,CAACS,KAAK,CAACC,IAAI,CAAC,SAAAC,CAAC,QAAI,CAAAA,CAAC,CAACJ,GAAG,GAAKH,WAAW,CAACG,GAAG,GAAC,CAC/D,GAAM,CAAAK,uBAAuB,eAAAC,MAAA,CACbL,OAAO,EAAI,mBAAmB,CAC7C,CAED,GAAM,CAAAM,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAA,CAAS,CACvBb,WAAW,CAACD,IAAI,CAAC,CACnB,CAAC,CAED,GAAM,CAAAe,eAAe,CAAG,QAAlB,CAAAA,eAAeA,CAAA,CAAS,CAC5Bb,UAAU,CAACF,IAAI,CAAC,CAClB,CAAC,CAED,GAAM,CAAAgB,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAA,CAAS,CAC9Bb,YAAY,CAACH,IAAI,CAAC,CACpB,CAAC,CAED,mBACIH,KAAA,YAASoB,SAAS,CAAC,MAAM,CAAAC,QAAA,EACtBb,KAAK,eAAIV,IAAA,WAAQsB,SAAS,CAAC,cAAc,CAACE,IAAI,CAAC,QAAQ,CAACC,OAAO,CAAEJ,iBAAkB,CAAAE,QAAA,cAClFvB,IAAA,QAAKsB,SAAS,CAAC,aAAa,CAACI,GAAG,CAAE/B,aAAc,CAACgC,GAAG,CAAC,uFAAiB,CAAE,CAAC,CACnE,CAAC,cACT3B,IAAA,QACEsB,SAAS,CAAC,aAAa,CACvBI,GAAG,CAAErB,IAAI,CAACuB,IAAK,CACfD,GAAG,CAAEtB,IAAI,CAACwB,IAAK,CACfJ,OAAO,CAAEN,UAAW,CACrB,CAAC,cACFjB,KAAA,QAAKoB,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BvB,IAAA,OAAIsB,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAElB,IAAI,CAACwB,IAAI,CAAK,CAAC,cAC3C3B,KAAA,QAAKoB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnCvB,IAAA,WAAQsB,SAAS,CAAEL,uBAAwB,CAACO,IAAI,CAAC,QAAQ,CAACC,OAAO,CAAEL,eAAgB,CAAAG,QAAA,cACjFvB,IAAA,QAAK0B,GAAG,CAAE9B,WAAY,CAAC+B,GAAG,CAAC,+DAAa,CAAE,CAAC,CACrC,CAAC,cACT3B,IAAA,MAAGsB,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAElB,IAAI,CAACS,KAAK,CAACgB,MAAM,CAAI,CAAC,EACrD,CAAC,EACH,CAAC,EACC,CAAC,CAEhB,CAEA,cAAe,CAAA3B,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}